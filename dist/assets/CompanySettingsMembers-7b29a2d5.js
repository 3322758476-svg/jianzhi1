import{C as F}from"./CompanySidebar-2b3a57ff.js";import{d as O,r as b,B as W,o as q,c as A,b as e,a as d,w as l,i as a,j as G,k,n as s,l as w,a2 as H,W as J,f as K,p as P,t as v,_ as Q}from"./index-d856f604.js";const X={class:"company-layout"},Y={class:"company-main"},Z={class:"company-header"},ee={class:"header-left"},te={class:"header-actions"},le={class:"members-container"},oe={class:"card-header"},ae=O({__name:"CompanySettingsMembers",setup(ne){const p=b(!1),y=b([]),u=b(!1),i=W({email:"",role:"member",department:""}),M=n=>({admin:"danger",member:"primary",viewer:"info"})[n]||"info",D=n=>({admin:"管理员",member:"普通成员",viewer:"观察者"})[n]||n,g=async()=>{p.value=!0;try{y.value=[{id:"1",name:"张三",email:"zhangsan@example.com",role:"admin",department:"技术部",status:"active",joinDate:"2024-01-01"},{id:"2",name:"李四",email:"lisi@example.com",role:"member",department:"人事部",status:"active",joinDate:"2024-01-05"}]}catch(n){console.error("加载成员列表失败:",n)}finally{p.value=!1}},h=()=>{u.value=!0,Object.assign(i,{email:"",role:"member",department:""})},S=async()=>{console.log("发送邀请:",i),u.value=!1},j=n=>{console.log("编辑成员:",n)},B=n=>{console.log("切换成员状态:",n)},U=()=>{g()};return q(()=>{g()}),(n,t)=>{const _=a("el-breadcrumb-item"),z=a("el-breadcrumb"),C=a("el-icon"),m=a("el-button"),r=a("el-table-column"),V=a("el-tag"),I=a("el-table"),N=a("el-card"),x=a("el-input"),c=a("el-form-item"),f=a("el-option"),T=a("el-select"),$=a("el-form"),L=a("el-dialog"),R=G("loading");return k(),A("div",X,[e(F),d("div",Y,[d("div",Z,[d("div",ee,[t[8]||(t[8]=d("h1",null,"成员管理",-1)),e(z,{separator:"/"},{default:l(()=>[e(_,{to:{path:"/company/dashboard"}},{default:l(()=>[...t[5]||(t[5]=[s("首页",-1)])]),_:1}),e(_,{to:{path:"/company/settings"}},{default:l(()=>[...t[6]||(t[6]=[s("企业设置",-1)])]),_:1}),e(_,null,{default:l(()=>[...t[7]||(t[7]=[s("成员管理",-1)])]),_:1})]),_:1})]),d("div",te,[e(m,{type:"primary",onClick:h},{default:l(()=>[e(C,null,{default:l(()=>[e(w(H))]),_:1}),t[9]||(t[9]=s(" 邀请成员 ",-1))]),_:1})])]),d("div",le,[e(N,null,{header:l(()=>[d("div",oe,[t[11]||(t[11]=d("span",null,"企业成员列表",-1)),e(m,{type:"text",onClick:U},{default:l(()=>[e(C,null,{default:l(()=>[e(w(J))]),_:1}),t[10]||(t[10]=s(" 刷新 ",-1))]),_:1})])]),default:l(()=>[K((k(),P(I,{data:y.value},{default:l(()=>[e(r,{prop:"name",label:"成员姓名",width:"120"}),e(r,{prop:"email",label:"邮箱地址","min-width":"180"}),e(r,{prop:"role",label:"角色",width:"120"},{default:l(({row:o})=>[e(V,{type:M(o.role)},{default:l(()=>[s(v(D(o.role)),1)]),_:2},1032,["type"])]),_:1}),e(r,{prop:"department",label:"部门",width:"120"}),e(r,{prop:"status",label:"状态",width:"100"},{default:l(({row:o})=>[e(V,{type:o.status==="active"?"success":"info"},{default:l(()=>[s(v(o.status==="active"?"活跃":"禁用"),1)]),_:2},1032,["type"])]),_:1}),e(r,{prop:"joinDate",label:"加入时间",width:"120"}),e(r,{label:"操作",width:"200",fixed:"right"},{default:l(({row:o})=>[e(m,{size:"small",onClick:E=>j(o)},{default:l(()=>[...t[12]||(t[12]=[s("编辑",-1)])]),_:1},8,["onClick"]),e(m,{size:"small",type:o.status==="active"?"warning":"success",onClick:E=>B(o)},{default:l(()=>[s(v(o.status==="active"?"禁用":"启用"),1)]),_:2},1032,["type","onClick"])]),_:1})]),_:1},8,["data"])),[[R,p.value]])]),_:1})])]),e(L,{modelValue:u.value,"onUpdate:modelValue":t[4]||(t[4]=o=>u.value=o),title:"邀请成员",width:"500px"},{footer:l(()=>[e(m,{onClick:t[3]||(t[3]=o=>u.value=!1)},{default:l(()=>[...t[13]||(t[13]=[s("取消",-1)])]),_:1}),e(m,{type:"primary",onClick:S},{default:l(()=>[...t[14]||(t[14]=[s("发送邀请",-1)])]),_:1})]),default:l(()=>[e($,{model:i,"label-width":"80px"},{default:l(()=>[e(c,{label:"邮箱地址"},{default:l(()=>[e(x,{modelValue:i.email,"onUpdate:modelValue":t[0]||(t[0]=o=>i.email=o),placeholder:"请输入成员邮箱地址"},null,8,["modelValue"])]),_:1}),e(c,{label:"角色"},{default:l(()=>[e(T,{modelValue:i.role,"onUpdate:modelValue":t[1]||(t[1]=o=>i.role=o),placeholder:"请选择角色"},{default:l(()=>[e(f,{label:"管理员",value:"admin"}),e(f,{label:"普通成员",value:"member"}),e(f,{label:"观察者",value:"viewer"})]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"部门"},{default:l(()=>[e(x,{modelValue:i.department,"onUpdate:modelValue":t[2]||(t[2]=o=>i.department=o),placeholder:"请输入部门名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});const de=Q(ae,[["__scopeId","data-v-04693c2c"]]);export{de as default};
