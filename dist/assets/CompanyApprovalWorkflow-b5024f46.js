import{C as D}from"./CompanySidebar-2b3a57ff.js";import{d as N,r as b,o as V,c as z,b as t,a as s,w as e,i as p,j as L,k as g,n,l as k,a2 as S,W as $,f as E,p as I,t as c,_ as q}from"./index-d856f604.js";const F={class:"company-layout"},G={class:"company-main"},H={class:"company-header"},J={class:"header-left"},K={class:"header-actions"},O={class:"approval-container"},P={class:"card-header"},Q=N({__name:"CompanyApprovalWorkflow",setup(R){const _=b(!1),m=b([]),w=l=>({job_approval:"primary",application_approval:"success",payment_approval:"warning"})[l]||"info",C=l=>({job_approval:"岗位审批",application_approval:"申请审批",payment_approval:"支付审批"})[l]||l,f=async()=>{_.value=!0;try{m.value=[{id:"1",name:"岗位发布审批",type:"job_approval",steps:[{},{}],status:"active",updatedAt:"2024-01-15 10:30:00"},{id:"2",name:"学生申请审批",type:"application_approval",steps:[{}],status:"active",updatedAt:"2024-01-14 16:20:00"}]}catch(l){console.error("加载审批流程失败:",l)}finally{_.value=!1}},h=()=>{console.log("创建新审批流程")},x=l=>{console.log("编辑审批流程:",l)},W=l=>{console.log("切换审批流程状态:",l)},A=()=>{f()};return V(()=>{f()}),(l,a)=>{const u=p("el-breadcrumb-item"),M=p("el-breadcrumb"),v=p("el-icon"),i=p("el-button"),r=p("el-table-column"),y=p("el-tag"),T=p("el-table"),j=p("el-card"),B=L("loading");return g(),z("div",F,[t(D),s("div",G,[s("div",H,[s("div",J,[a[3]||(a[3]=s("h1",null,"审批流程配置",-1)),t(M,{separator:"/"},{default:e(()=>[t(u,{to:{path:"/company/dashboard"}},{default:e(()=>[...a[0]||(a[0]=[n("首页",-1)])]),_:1}),t(u,null,{default:e(()=>[...a[1]||(a[1]=[n("审批流程",-1)])]),_:1}),t(u,null,{default:e(()=>[...a[2]||(a[2]=[n("流程配置",-1)])]),_:1})]),_:1})]),s("div",K,[t(i,{type:"primary",onClick:h},{default:e(()=>[t(v,null,{default:e(()=>[t(k(S))]),_:1}),a[4]||(a[4]=n(" 新建流程 ",-1))]),_:1})])]),s("div",O,[t(j,null,{header:e(()=>[s("div",P,[a[6]||(a[6]=s("span",null,"审批流程列表",-1)),t(i,{type:"text",onClick:A},{default:e(()=>[t(v,null,{default:e(()=>[t(k($))]),_:1}),a[5]||(a[5]=n(" 刷新 ",-1))]),_:1})])]),default:e(()=>[E((g(),I(T,{data:m.value},{default:e(()=>[t(r,{prop:"name",label:"流程名称","min-width":"150"}),t(r,{prop:"type",label:"流程类型","min-width":"100"},{default:e(({row:o})=>[t(y,{type:w(o.type)},{default:e(()=>[n(c(C(o.type)),1)]),_:2},1032,["type"])]),_:1}),t(r,{prop:"steps",label:"审批步骤","min-width":"80"},{default:e(({row:o})=>{var d;return[s("span",null,c(((d=o.steps)==null?void 0:d.length)||0)+" 步",1)]}),_:1}),t(r,{prop:"status",label:"状态","min-width":"80"},{default:e(({row:o})=>[t(y,{type:o.status==="active"?"success":"info"},{default:e(()=>[n(c(o.status==="active"?"启用":"停用"),1)]),_:2},1032,["type"])]),_:1}),t(r,{prop:"updatedAt",label:"更新时间","min-width":"120"}),t(r,{label:"操作",width:"200",fixed:"right"},{default:e(({row:o})=>[t(i,{size:"small",onClick:d=>x(o)},{default:e(()=>[...a[7]||(a[7]=[n("编辑",-1)])]),_:1},8,["onClick"]),t(i,{size:"small",type:o.status==="active"?"warning":"success",onClick:d=>W(o)},{default:e(()=>[n(c(o.status==="active"?"停用":"启用"),1)]),_:2},1032,["type","onClick"])]),_:1})]),_:1},8,["data"])),[[B,_.value]])]),_:1})])])])}}});const Y=q(Q,[["__scopeId","data-v-40955863"]]);export{Y as default};
