import{d as E,u as H,r as y,o as J,c as h,a,b as s,w as o,F as C,e as A,f as N,g as I,h as U,s as x,i as _,j as L,k as f,l as r,m as R,n as p,p as $,t as u,q as K,v as z,x as j,y as G,z as O,A as P,_ as Q}from"./index-d856f604.js";const W={class:"home"},X={class:"hero-section"},Y={class:"hero-content"},Z={class:"search-box"},tt={class:"quick-filters"},at={class:"features-section"},st={class:"container"},et={class:"features-grid"},ot={class:"feature-card"},lt={class:"feature-card"},it={class:"feature-card"},nt={class:"feature-card"},dt={class:"jobs-section"},rt={class:"container"},ct={class:"section-header"},ut={class:"jobs-grid"},ft={class:"job-header"},vt={class:"job-info"},_t={class:"company-info"},pt={class:"location-info"},mt={class:"job-desc"},yt={class:"job-footer"},ht={class:"create-time"},gt=E({__name:"Home",setup(wt){const w=U();H();const v=y(""),g=y(!1),m=y([]),F=y(["前端开发","新媒体运营","产品助理","数据分析","设计美工","内容创作"]),M=async()=>{try{g.value=!0;const{data:i,error:t}=await x.from("jobs").select(`
        id,
        title,
        salary_range,
        work_location,
        description,
        created_at,
        company_id
      `).eq("status","active").order("created_at",{ascending:!1}).limit(6);if(t)throw t;if(i&&i.length>0){let n=new Map;try{const e=[...new Set(i.map(c=>c.company_id))],{data:d}=await x.from("companies").select("id, company_name").in("id",e);n=new Map((d==null?void 0:d.map(c=>[c.id,c.company_name]))||[])}catch(e){console.warn("获取公司信息失败，使用默认公司名:",e)}m.value=i.map(e=>({id:e.id,title:e.title,company:n.get(e.company_id)||"招聘公司",salary:e.salary_range,location:e.work_location,description:e.description,createdAt:V(e.created_at)}))}else m.value=b()}catch(i){console.error("加载推荐职位失败:",i),m.value=b()}finally{g.value=!1}},V=i=>{const t=new Date(i),e=new Date().getTime()-t.getTime(),d=Math.floor(e/(1e3*60*60));return d<1?"刚刚":d<24?`${d}小时前`:`${Math.floor(d/24)}天前`},b=()=>[{id:"1",title:"前端开发实习生",company:"腾讯科技",salary:"200-300元/天",location:"深圳·南山区",description:"负责公司产品的前端开发工作，参与需求讨论和技术方案设计。",createdAt:"2小时前"},{id:"2",title:"新媒体运营助理",company:"字节跳动",salary:"150-200元/天",location:"北京·海淀区",description:"负责社交媒体内容创作和运营，协助品牌推广活动。",createdAt:"1天前"},{id:"3",title:"产品助理实习生",company:"阿里巴巴",salary:"180-250元/天",location:"杭州·西湖区",description:"协助产品经理进行需求分析、原型设计和用户调研工作。",createdAt:"3小时前"}],k=()=>{v.value.trim()&&w.push(`/jobs?keyword=${encodeURIComponent(v.value)}`)},D=i=>{v.value=i,k()},T=i=>{w.push(`/jobs/${i}`)};return J(()=>{M()}),(i,t)=>{const n=_("el-icon"),e=_("el-button"),d=_("el-input"),c=_("el-tag"),S=_("el-card"),q=L("loading");return f(),h("div",W,[a("div",X,[a("div",Y,[t[3]||(t[3]=a("h1",null,"大学生兼职平台",-1)),t[4]||(t[4]=a("p",{class:"subtitle"},"连接优秀大学生与优质企业",-1)),a("div",Z,[s(d,{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=l=>v.value=l),placeholder:"搜索兼职岗位、公司名称...",size:"large",class:"search-input"},{append:o(()=>[s(e,{type:"primary",onClick:k},{default:o(()=>[s(n,null,{default:o(()=>[s(r(R))]),_:1}),t[2]||(t[2]=p(" 搜索 ",-1))]),_:1})]),_:1},8,["modelValue"])]),a("div",tt,[(f(!0),h(C,null,A(F.value,l=>(f(),$(c,{key:l,type:"info",class:"filter-tag",onClick:B=>D(l)},{default:o(()=>[p(u(l),1)]),_:2},1032,["onClick"]))),128))])])]),a("div",at,[a("div",st,[t[13]||(t[13]=a("h2",null,"平台特色",-1)),a("div",et,[a("div",ot,[s(n,{size:"48",color:"#409EFF"},{default:o(()=>[s(r(K))]),_:1}),t[5]||(t[5]=a("h3",null,"学生认证",-1)),t[6]||(t[6]=a("p",null,"严格的学籍认证，确保学生身份真实可靠",-1))]),a("div",lt,[s(n,{size:"48",color:"#67C23A"},{default:o(()=>[s(r(z))]),_:1}),t[7]||(t[7]=a("h3",null,"企业认证",-1)),t[8]||(t[8]=a("p",null,"企业资质审核，保障工作环境安全正规",-1))]),a("div",it,[s(n,{size:"48",color:"#E6A23C"},{default:o(()=>[s(r(j))]),_:1}),t[9]||(t[9]=a("h3",null,"实时沟通",-1)),t[10]||(t[10]=a("p",null,"内置聊天系统，方便学生与企业直接交流",-1))]),a("div",nt,[s(n,{size:"48",color:"#F56C6C"},{default:o(()=>[s(r(G))]),_:1}),t[11]||(t[11]=a("h3",null,"信用评价",-1)),t[12]||(t[12]=a("p",null,"双向评价体系，建立可靠的信用记录",-1))])])])]),a("div",dt,[a("div",rt,[a("div",ct,[t[15]||(t[15]=a("h2",null,"热门兼职岗位",-1)),s(e,{type:"primary",text:"",onClick:t[1]||(t[1]=l=>i.$router.push("/jobs"))},{default:o(()=>[t[14]||(t[14]=p(" 查看全部 ",-1)),s(n,null,{default:o(()=>[s(r(O))]),_:1})]),_:1})]),N((f(),h("div",ut,[(f(!0),h(C,null,A(m.value,l=>(f(),$(S,{key:l.id,class:"job-card",shadow:"hover"},{header:o(()=>[a("div",ft,[a("h3",null,u(l.title),1),s(c,{type:"success"},{default:o(()=>[p(u(l.salary),1)]),_:2},1024)])]),footer:o(()=>[a("div",yt,[a("span",ht,u(l.createdAt),1),s(e,{type:"primary",size:"small",onClick:B=>T(l.id)},{default:o(()=>[...t[16]||(t[16]=[p(" 查看详情 ",-1)])]),_:1},8,["onClick"])])]),default:o(()=>[a("div",vt,[a("div",_t,[s(n,null,{default:o(()=>[s(r(z))]),_:1}),a("span",null,u(l.company),1)]),a("div",pt,[s(n,null,{default:o(()=>[s(r(P))]),_:1}),a("span",null,u(l.location),1)])]),a("p",mt,u(l.description),1)]),_:2},1024))),128))])),[[q,g.value]])])]),t[17]||(t[17]=I('<div class="stats-section" data-v-f62faa9c><div class="container" data-v-f62faa9c><div class="stats-grid" data-v-f62faa9c><div class="stat-item" data-v-f62faa9c><div class="stat-number" data-v-f62faa9c>5000+</div><div class="stat-label" data-v-f62faa9c>注册学生</div></div><div class="stat-item" data-v-f62faa9c><div class="stat-number" data-v-f62faa9c>1000+</div><div class="stat-label" data-v-f62faa9c>合作企业</div></div><div class="stat-item" data-v-f62faa9c><div class="stat-number" data-v-f62faa9c>20000+</div><div class="stat-label" data-v-f62faa9c>兼职岗位</div></div><div class="stat-item" data-v-f62faa9c><div class="stat-number" data-v-f62faa9c>95%</div><div class="stat-label" data-v-f62faa9c>满意度</div></div></div></div></div>',1))])}}});const kt=Q(gt,[["__scopeId","data-v-f62faa9c"]]);export{kt as default};
